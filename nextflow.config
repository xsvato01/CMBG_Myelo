k8s {
   namespace = 'svaton-ns'
   runAsUser = 1000
   imagePullSecret = 'docker-registry-cred'
   storageClaimName = 'pvc-bib-storage-elixir1-cerit-sc-cz'
   storageMountPath = '/mnt'
   homeDir = '/mnt/home/450402/000000-My_Documents/MARECKOVA_BTK'
   launchDir = "${k8s.homeDir}/launch"
   projectDir = "${k8s.homeDir}/project"
   workDir = "${k8s.homeDir}/temp"
}

params {
projectDirectory = "${k8s.projectDir}/xsvato01/mareckova_CXCR_k8s/"
   outDirectory = '/mnt/home/450402/000000-My_Documents/MARECKOVA_BTK/launch'
  // refindex = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh37-p13/index/BWA/GRCh37-p13'
 //  ref = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh37-p13/seq/GRCh37-p13'
//   vep = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh37-p13/vep/'
   ref = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh38-p10/seq/GRCh38-p10'
   vep = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh38-p10/annot/vep'
   refindex = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh38-p10/index/BWA/GRCh38-p10'
// covbed = "${k8s.projectDir}/xsvato01/mareckova_CXCR_k8s/beds/BTK_PLCG2_p53_BCL2_CXCR4_corr_picard_extended.bed"
   covbed = "${k8s.projectDir}/xsvato01/mareckova_CXCR_k8s/beds/mareckovaBed_GRCh38.bed"

   vcftbl = "${k8s.projectDir}/xsvato01/mareckova_CXCR_k8s/src/vcf2table108.py"
   coverstat = "${k8s.projectDir}/xsvato01/mareckova_CXCR_k8s/src/coverage_stat.R"
}


executor {
   queueSize = 2
}


process {
   withLabel:small_process {
         cpus = 1
         memory = 2.GB
      }
      withLabel:smallest_process {
         cpus = 1
         memory = 1.GB
      }   
      withLabel:medium_cpu {
      cpus = 4
      }
      withLabel:medium_mem {
         memory = 4.GB
      }  
   container = 'registry.gitlab.ics.muni.cz:443/450402/mareckova_cxcr_k8s:34'
   scratch = true
   executor = 'k8s'
   cpus = 2
   memory = '8GB'
   pod = [[imagePullSecret:'docker-registry-cred'], [securityContext:[fsGroupChangePolicy:'OnRootMismatch', allowPrivilegeEscalation:false, runAsUser:1000, runAsGroup:1, fsGroup:1, capabilities:[drop:['ALL']]]], [nodeSelector:'storage=local-ssd']]
}